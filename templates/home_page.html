{% extends "_template.html" %}

{% block title %}RabbitHole | Home{% endblock %}

{% block body %}
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
      background-color: #ffffff;
      font-family: Arial, sans-serif;
      color: #51b178;
    }
  
    .navbar {
      background-color: #ffffff;
    }
  
    .navbar-brand,
    .nav-link {
      color: #51b178;
      font-size: 1.5em;
      font-weight: bold;
    }
  
    .navbar-brand img {
      height: 115px;
      width: 115px;
    }
  
    .container {
      max-width: 600px;
      margin-top: 100px;
    }
    .post-image {
      max-height: 500px;
      width: 100%;
  }
  
    h1 {
      margin-bottom: 30px;
      font-weight: bold;
      font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",
        "Lucida Sans", Arial, sans-serif;
      color: #51b178;
    }
  
    .lead {
      font-size: 1.25em;
      font-family: "Trebuchet MS", "Lucida Sans Unicode", "Lucida Grande",
        "Lucida Sans", Arial, sans-serif;
      margin-bottom: 30px;
      color: #ffffff;
      background-color: #51b178;
      padding: 10px;
      display: inline-block;
      border-radius: 20px;
    }
  
    .btn-primary {
      background-color: #90ee90;
      border-color: #90ee90;
      color: #000000;
    }
  
    .footer {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100%;
      background-color: #f5f5dc;
      color: #000000;
      text-align: center;
      padding: 10px 0;
    }
    .space {
      margin-right: 10px;
  
      padding: 10px 0;
    }
    .container.text-center {
      margin-top: 0;
    }
  </style>
  <div class="container">
    {% if posts|length != 0 %}
    <h1 class="text-center">My Tunnel</h1>
    {% for post in posts %}
        <div class="d-flex align-items-center flex-column p-2 border border-1 mb-3">
            <div class="d-flex justify-content-between w-100 mb-3">
                <div>
                    <h3 class>{{ post.title }}</h3>
                    <a href="/rh/{{ post.community }}"><h4>rh/{{ post.community }}</h4></a>
                </div>
                <div class="mt-2">
                    <h4>{{ post.owner }}</h4>
                    <h5>{{ post.time_created }}</h5>
                </div>
            </div>
            <div>
              <img class="post-image border border-1" src="../rabbithole/static/images/defaultpost.jpg" alt="post image"/>
              <p class="align-self-start mt-2">{{ post.content }}</p>
            </div>
            {% if user.username == post.owner %}
            <div class="align-self-end">
              <form action="/home/{{ post.id }}/delete" method="POST">
                <input type="submit" class="btn btn-danger" value="Delete"/>
              </form>
            </div>
            {% endif %}
        </div>
    {% endfor %}
  {% else %}
  <h3 class="text-center">Uh Oh! It looks like you aren't apart of any communities or your communities have no posts! Create, join, and interact with a Community!</h3>
  <a class="text-decoration-none" href="/communities"><h2 class="p-3 mt-5 text-center btn-primary rounded-pill">Browse Communities!</h2></a>
  {% endif %}
</div>
{% endblock %}